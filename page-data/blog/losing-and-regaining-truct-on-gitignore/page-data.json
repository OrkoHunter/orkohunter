{
    "componentChunkName": "component---src-pages-markdown-remark-frontmatter-slug-js",
    "path": "/blog/losing-and-regaining-truct-on-gitignore/",
    "result": {"data":{"site":{"siteMetadata":{"title":"Himanshu Mishra (@OrkoHunter)","description":"Personal website and blog of Himanshu Mishra (@OrkoHunter)","author":"@OrkoHunter","siteUrl":"https://orkohunter.net"}},"markdownRemark":{"html":"<p>I would like to share an interesting story of a problem which I’ve faced many times since I started using git. This story is about “losing and re-gaining trust on .gitignore”.</p>\n<p><strong>Event :</strong> Create a Python app. Run it, test it and Boom! Now it’s time to push it to GitHub.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">git init .\ngit remote add https://github.com/iamsosmart/notsomuch.git\ngit push -u origin master</code></pre></div>\n<p><em>Shit, Shit, Shit ! I wasn’t supposed to push the pyc</em> files. Oh this looks so lame.</p>\n<p>If you’re amateur enough, not to feel uncomfortable after pushing those files, you’re golden. Else, you’ll think of something called .gitignore which helps in ignoring unwanted files to be added in your git repository.</p>\n<p>You’ll then search for a good gitignore file for Python and Google will give you exactly what you want, <a href=\"https://github.com/github/gitignore/blob/master/Python.gitignore\">Python.gitignore</a>.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">wget -O .gitignore https://raw.githubusercontent.com/github/gitignore/master/Python.gitignore\ngit add -A\ngit commit -m \"Added .gitignore file\"</code></pre></div>\n<p>Now, you’ll try to remove the pyc files, using rm -rf *.pyc. But as soon as you'll do this, (and if you're using oh-my-zsh), you'll see a cross on your prompt. That means, git has <em>detected</em> a change.</p>\n<p><em>But wait? Why is git detecting changes to pyc files, when I’ve already added the gitignore!</em></p>\n<p>Now, if you’re me, you’ll feel betrayed by git. You’ll make a few calls and send messages to people, and say <em>“gitignore is not obeying me”</em>, and they’ll hang up on you, saying <em>“it must be your fault”</em>.</p>\n<p>Believe me, even the “future me” would have said the same.</p>\n<p>So, the problem is that once you have staged a file, gitignore won’t have anything to do with it. So, if you’ll remove the staged file (pyc files, in this case), git will say to you that you’ve deleted them.</p>\n<p>Later on, I googled the string “gitignore not working” and O thanks to stackoverflow, I was rescued.</p>\n<p>After adding the .gitignore, simply do this</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">git rm -rf --cached .\ngit add .</code></pre></div>\n<p>Or, instead of <code class=\"language-text\">rm -rf *.pyc</code></p>\n<p>, I must have done</p>\n<p><code class=\"language-text\">git rm -rf *.pyc</code></p>\n<p>Ta-da ! And that’s when, my friends, the trust I have in git’s simplicity increased by a tini-tiny bit.</p>\n<p>Thank you for reading.</p>\n<p>When a python script is compiled, it generates compiled code as pyc files, also called byte code.</p>","timeToRead":2,"frontmatter":{"categories":["Tech"],"date":"Jan 20, 2017","draft":false,"slug":"/blog/losing-and-regaining-truct-on-gitignore","subtitle":"","summary":"","title":"Losing and Re-Gaining trust on .gitignore","image":null}}},"pageContext":{"id":"39af5725-6280-5330-b8ab-c2c00e20187e","frontmatter__slug":"/blog/losing-and-regaining-truct-on-gitignore","__params":{"frontmatter__slug":"blog"}}},
    "staticQueryHashes": ["764694655"]}